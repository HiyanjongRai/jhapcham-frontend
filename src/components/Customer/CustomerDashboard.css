/* CustomerDashboard.css - Black & White Premium Theme */

:root {
  --cd-primary: #000000;
  --cd-primary-light: #1a1a1a;
  --cd-accent: #000000;
  --cd-bg: #ffffff;
  --cd-card-bg: rgba(255, 255, 255, 0.8);
  --cd-text-main: #000000;
  --cd-text-muted: #666666;
  --cd-border: rgba(0, 0, 0, 0.08); /* Thinner, softer border */
  --cd-sidebar-width: 210px; /* Further reduced from 240px */
  --cd-radius-lg: 10px; /* Slightly tighter */
  --cd-radius-md: 4px; /* Tighter */
  --cd-shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
  --cd-shadow-md: 0 8px 24px rgba(0,0,0,0.05);
}

.cd-layout {
  display: flex;
  min-height: calc(100vh - 88px); /* Initial height minus top bars */
  background-color: #fafafa;
  font-family: 'Plus Jakarta Sans', 'Inter', sans-serif;
  color: var(--cd-text-main);
  position: relative;
}

/* Sidebar Styling */
.cd-sidebar {
  width: var(--cd-sidebar-width);
  background: linear-gradient(180deg, #ffffff 0%, #fcfcfc 100%);
  border-right: 1px solid var(--cd-border);
  display: flex;
  flex-direction: column;
  position: sticky; /* Changed from fixed */
  top: 60px; /* Sticks below the sticky navbar */
  height: calc(100vh - 60px); 
  z-index: 90; /* Lower than navbar's 1000 */
}

.cd-profile-summary {
  padding: 1.5rem 1rem 1rem 1rem; /* More compact */
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}

.cd-avatar-wrapper {
  position: relative;
  width: 56px; /* Reduced from 72px */
  height: 56px; /* Reduced from 72px */
  padding: 2px;
  background: #000;
  border-radius: 50%;
  margin-bottom: 0.75rem;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.cd-avatar {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
  border: 4px solid white;
  display: block;
}

.cd-user-name {
  font-weight: 900;
  font-size: 0.85rem; /* Reduced from 0.95rem */
  color: var(--cd-text-main);
  margin-bottom: 0.05rem;
  letter-spacing: -0.02em;
}

.cd-user-email {
  font-size: 0.7rem; /* Reduced from 0.75rem */
  color: var(--cd-text-muted);
  font-weight: 600;
  opacity: 0.8;
}

.cd-nav {
  padding: 1rem 1.25rem;
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.cd-nav-item {
  display: flex;
  align-items: center;
  gap: 0.6rem;
  padding: 0.5rem 0.85rem; /* Tighter padding */
  border-radius: var(--cd-radius-md);
  color: #666;
  font-weight: 700;
  font-size: 0.8rem; /* Reduced from 0.85rem */
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border: none;
  background: none;
  width: 100%;
  text-align: left;
  position: relative;
  overflow: hidden;
}

.cd-nav-indicator {
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%) translateX(-100%);
  width: 3px;
  height: 16px;
  background: #000;
  border-radius: 0 4px 4px 0;
  transition: transform 0.3s ease;
}

.cd-nav-item:hover {
  background-color: #f8f8f8;
  color: #000;
}

.cd-nav-item.active {
  background-color: #000;
  color: #fff;
}

.cd-nav-item.active .cd-nav-indicator {
  transform: translateY(-50%) translateX(0);
  background: #fff;
}

.cd-logout {
  padding: 1.5rem;
  padding-bottom: 3rem;
  margin-top: auto;
}

.cd-logout-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  width: 100%;
  padding: 0.65rem;
  border: 1.5px solid #000;
  border-radius: var(--cd-radius-md);
  background: white;
  color: #000;
  font-weight: 800;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  cursor: pointer;
  transition: all 0.2s;
}

.cd-logout-btn:hover {
  background: #000;
  color: #fff;
}

/* Main Content Area */
.cd-main {
  flex: 1;
  padding: 1.5rem 2rem; /* Adjusted */
  width: 100%;
  max-width: 1200px;
  margin-right: auto;
  overflow-x: hidden; /* Prevent horizontal scroll clipping */
}

.cd-header {
  margin-bottom: 2rem; /* Reduced from 3rem */
}

.cd-welcome {
  font-size: 1.6rem; /* Reduced from 2.2rem */
  font-weight: 900;
  color: var(--cd-text-main);
  letter-spacing: -0.04em;
  margin-bottom: 0.25rem;
}

.cd-date {
  font-size: 0.9rem;
  color: var(--cd-text-muted);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* Black & White Stats Grid */
.cd-stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem; /* Reduced from 1.25rem */
  margin-bottom: 2rem; /* Reduced from 3rem */
}

.cd-stat-card {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(10px);
  padding: 1.25rem; /* Reduced from 2rem */
  border-radius: var(--cd-radius-lg);
  border: 1px solid var(--cd-border);
  display: flex;
  align-items: center;
  gap: 1rem;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.cd-stat-card:hover {
  transform: translateY(-2px);
  border-color: rgba(0, 0, 0, 0.2);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.04);
}

.cd-stat-icon {
  width: 42px; /* Reduced from 52px */
  height: 42px; /* Reduced from 52px */
  border-radius: 10px; /* Sleeker rounded box */
  background: #000;
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.cd-stat-info h3 {
  font-size: 1.4rem; /* Reduced from 1.75rem */
  font-weight: 800;
  margin: 0;
  color: var(--cd-text-main);
  line-height: 1;
}

.cd-stat-info p {
  margin: 0.25rem 0 0 0;
  color: var(--cd-text-muted);
  font-weight: 600;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.cd-stat-orders .cd-stat-icon { background: #000; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1); }
.cd-stat-progress .cd-stat-icon { background: #111; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1); }
.cd-stat-wishlist .cd-stat-icon { background: #222; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1); }


/* Section Styling */
.cd-section-title {
  font-size: 1.3rem;
  font-weight: 700;
  margin-bottom: 1.5rem;
  color: var(--cd-text-main);
  display: flex;
  align-items: center;
  gap: 1rem;
  letter-spacing: -0.01em;
}

.cd-card {
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(5px);
  border-radius: var(--cd-radius-lg);
  border: 1px solid var(--cd-border);
  padding: 1.5rem; /* Reduced from 2rem */
  margin-bottom: 1.5rem;
}

/* Order Item Styling */
.cd-order-item {
  display: flex;
  align-items: center;
  gap: 1rem; /* Reduced from 1.25rem */
  padding: 0.75rem 1rem; /* Further reduced from 1rem */
  border-radius: 6px;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.cd-order-item:hover {
  background: #fcfcfc;
}

.cd-order-img {
  width: 48px; /* Further reduced from 56px */
  height: 48px; /* Further reduced from 56px */
  border-radius: 4px;
  object-fit: cover;
  background: #f8f8f8;
  border: 1px solid rgba(0,0,0,0.05);
}

.cd-order-info {
  flex: 1;
}

.cd-order-title {
  font-weight: 700;
  color: #000;
  font-size: 0.9rem; /* Reduced from 1rem */
  margin-bottom: 0.25rem;
}

.cd-order-meta {
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 0.8rem;
  color: #777;
  font-weight: 500;
}

.cd-order-price {
  font-size: 0.95rem; /* Reduced from 1.15rem */
  font-weight: 800;
  color: #000;
  letter-spacing: -0.01em;
}

/* Wishlist Overhaul */
.cd-wishlist-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 1.5rem;
}

.cd-wish-card {
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(10px);
  border: 1px solid var(--cd-border);
  border-radius: 12px;
  overflow: hidden;
  transition: all 0.3s ease;
}

.cd-wish-card:hover {
  transform: translateY(-5px);
  border-color: #000;
  box-shadow: 0 15px 35px rgba(0,0,0,0.06);
}

.cd-wish-img-container {
  position: relative;
  height: 200px;
  background: #f8f8f8;
}

.cd-wish-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  cursor: pointer;
  transition: transform 0.5s ease;
}

.cd-wish-card:hover .cd-wish-img {
  transform: scale(1.05);
}

.cd-wish-remove {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 28px;
  height: 28px;
  background: #fff;
  border: none;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  transition: all 0.2s;
  z-index: 10;
}

.cd-wish-remove:hover {
  background: #ff4d4f;
  color: #fff;
}

.cd-wish-info {
  padding: 1rem;
}

.cd-wish-title {
  font-size: 0.85rem;
  font-weight: 700;
  margin: 0 0 0.75rem 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.cd-wish-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.cd-wish-price {
  font-weight: 800;
  font-size: 0.9rem;
  color: #000;
}

.cd-wish-btn {
  background: #000;
  color: #fff;
  border: none;
  padding: 0.4rem 0.8rem;
  font-size: 0.72rem;
  font-weight: 700;
  border-radius: 4px;
  text-transform: uppercase;
  cursor: pointer;
  transition: 0.2s;
}

.cd-wish-btn:hover {
  background: #333;
}
/* Review Overhaul */
.cd-review-item {
  display: flex;
  align-items: center;
  gap: 1.25rem;
  padding: 1rem;
  border-bottom: 1px solid var(--cd-border);
  transition: all 0.2s ease;
}

.cd-review-item:hover {
  background: #fdfdfd;
}

.cd-review-img {
  width: 52px;
  height: 52px;
  border-radius: 8px;
  object-fit: cover;
  border: 1px solid rgba(0,0,0,0.05);
}

.cd-review-info {
  flex: 1;
}

.cd-review-name {
  font-weight: 700;
  font-size: 0.9rem;
  color: #000;
  margin-bottom: 0.2rem;
}

.cd-review-meta {
  font-size: 0.75rem;
  color: #888;
  font-weight: 500;
}

.cd-action-btn {
  padding: 0.5rem 1rem;
  border-radius: 6px;
  font-size: 0.75rem;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  transition: all 0.2s;
}

.cd-action-btn.primary { background: #000; color: #fff; border: 1px solid #000; }
.cd-action-btn.primary:hover { background: #333; }
.cd-action-btn.outline { background: #fff; color: #000; border: 1px solid #ddd; }
.cd-action-btn.outline:hover { background: #000; color: #fff; border-color: #000; }

/* Address Overhaul */
.cd-address-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 1.5rem;
}

.cd-address-card {
  background: white;
  border: 1px solid var(--cd-border);
  border-radius: 12px;
  padding: 1.25rem;
  transition: all 0.3s ease;
  position: relative;
}

.cd-address-card.default {
  border: 1.5px solid #000;
  box-shadow: 0 10px 25px rgba(0,0,0,0.04);
}

.cd-address-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.cd-address-label {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-weight: 800;
  text-transform: uppercase;
  font-size: 0.75rem;
  letter-spacing: 0.05em;
  color: #999;
}

.cd-address-card.default .cd-address-label { color: #000; }

.cd-badge-pro {
  background: #000;
  color: #fff;
  padding: 0.2rem 0.6rem;
  font-size: 0.6rem;
  font-weight: 900;
  border-radius: 4px;
}

.cd-address-content p {
  margin: 0 0 0.35rem 0;
  font-size: 0.85rem;
}

.cd-receiver { font-weight: 700; color: #000; font-size: 0.95rem !important; }
.cd-street, .cd-state-zip { color: #555; }
.cd-phone { color: #888; font-weight: 600; margin-top: 0.5rem !important; }

.cd-address-actions {
  display: flex;
  gap: 0.75rem;
  margin-top: 1.25rem;
}

.cd-mini-btn {
  flex: 1;
  padding: 0.5rem;
  border: 1px solid #eee;
  background: #fff;
  color: #000;
  font-size: 0.75rem;
  font-weight: 700;
  border-radius: 6px;
  cursor: pointer;
  transition: 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
}

.cd-mini-btn:hover { background: #000; color: #fff; border-color: #000; }
.cd-mini-btn.danger { color: #ff4d4f; }
.cd-mini-btn.danger:hover { background: #ff4d4f; color: #fff; border-color: #ff4d4f; }

/* Animations */
.fade-in {
  animation: fadeIn 0.4s ease-out forwards;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

@media (max-width: 1024px) {
  .cd-main { padding: 2.5rem; }
}

@media (max-width: 768px) {
  .cd-sidebar { transform: translateX(-100%); }
  .cd-main { margin-left: 0; padding: 2rem 1.5rem; }
  .cd-welcome { font-size: 2rem; }
}

/* Stepper Styles */
.cd-stepper {
  display: flex;
  justify-content: space-between;
  margin-bottom: 3rem;
  position: relative;
  padding: 0 1rem;
}

.cd-step {
  display: flex;
  flex-direction: column;
  align-items: center;
  flex: 1;
  position: relative;
  z-index: 2;
}

.cd-step-circle {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: #fff;
  border: 2px solid #e5e5e5;
  color: #999;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.8rem;
  font-weight: 700;
  transition: all 0.3s ease;
  margin-bottom: 0.75rem;
}

.cd-step.active .cd-step-circle {
  background: #000;
  border-color: #000;
  color: #fff;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

.cd-step-line {
  position: absolute;
  top: 16px;
  left: 50%;
  width: 100%;
  height: 2px;
  background: #e5e5e5;
  z-index: 1;
  transform: translateY(-50%);
}

.cd-step:last-child .cd-step-line {
  display: none;
}

.cd-step.active .cd-step-line {
  background: #000;
}

/* Only color the line of the previous step if the next one is active? 
   Ideally, we want the line to be black if the NEXT step is active. 
   css grid can handle this better, but let's stick to flex.
   Override: Make the line black if the step itself is active, but not the last one.
*/
.cd-step.active:not(:last-child)::after {
  content: '';
  position: absolute;
  top: 16px;
  left: 50%;
  width: 100%;
  height: 2px;
  background: #000;
  z-index: -1;
}

.cd-step-label {
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: #999;
  transition: all 0.3s;
}

/* Settings Overhaul */
.cd-settings-grid {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 1.5rem;
}

.cd-settings-title {
  font-size: 0.9rem;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: #000;
  margin: 0 0 1.5rem 0;
  padding-bottom: 0.75rem;
  border-bottom: 2px solid #000;
  display: inline-block;
}

.cd-security-card {
  background: #000;
  color: #fff;
  border-radius: 12px;
  padding: 1.5rem;
  height: fit-content;
}

.cd-security-card .cd-settings-title {
  color: #fff;
  border-color: #fff;
}

.cd-security-list {
  display: flex;
  flex-direction: column;
  gap: 1.25rem;
}

.cd-security-footer {
  margin-top: 2rem;
  padding-top: 1rem;
  border-top: 1px solid rgba(255,255,255,0.1);
}

.cd-security-footer p {
  font-size: 0.7rem;
  color: rgba(255,255,255,0.5);
  font-weight: 600;
}

@media (max-width: 900px) {
  .cd-settings-grid { grid-template-columns: 1fr; }
}

.cd-step.active .cd-step-label {
  color: #000;
}

/* Buy Again Button */
.cd-buy-again-btn {
  padding: 0.5rem 1rem;
  border: 1px solid #000;
  background: transparent;
  color: #000;
  font-weight: 700;
  font-size: 0.8rem;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s;
  white-space: nowrap;
}

.cd-buy-again-btn:hover {
  background: #000;
  color: #fff;
  transform: translateY(-1px);
}